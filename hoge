      uiParams: {
        ff: {
          autoAction: {
            name: "preview",
          },
          onPreview: async (args: { denops: Denops; previewWinId: number; }) =>
                { await fn.win_execute(args.denops, args.previewWinId, "normal! zt"); },
        } as Partial<FfParams>,
      },
      kindOptions: {
        file: {
          defaultAction: "open",
          actions: {
            grep: async (args: ActionArguments<Params>) => {
              const action = args.items[0]?.action as FileAction;

              await args.denops.call("ddu#start", {
                name: args.options.name,
                push: true,
                sources: [
                  {
                    name: "rg",
                    params: {
                      path: action.path,
                      input: await fn.input(args.denops, "Pattern: "),
                    },
                  },
                ],
              });

              return Promise.resolve(ActionFlags.None);
            },
          },
        },
      },
}
